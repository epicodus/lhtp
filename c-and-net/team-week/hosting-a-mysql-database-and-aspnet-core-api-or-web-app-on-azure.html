<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-c-and-net/team-week/hosting-a-mysql-database-and-aspnet-core-api-or-web-app-on-azure" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">Hosting a MySQL database and ASP.NET Core API or Web App on Azure | LHTP</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://new.learnhowtoprogram.com/c-and-net/team-week/hosting-a-mysql-database-and-aspnet-core-api-or-web-app-on-azure"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Hosting a MySQL database and ASP.NET Core API or Web App on Azure | LHTP"><meta data-rh="true" name="description" content="In this lesson we&#x27;ll use Azure to host a MySQL database and an MVC web application that uses that database."><meta data-rh="true" property="og:description" content="In this lesson we&#x27;ll use Azure to host a MySQL database and an MVC web application that uses that database."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://new.learnhowtoprogram.com/c-and-net/team-week/hosting-a-mysql-database-and-aspnet-core-api-or-web-app-on-azure"><link data-rh="true" rel="alternate" href="https://new.learnhowtoprogram.com/c-and-net/team-week/hosting-a-mysql-database-and-aspnet-core-api-or-web-app-on-azure" hreflang="en"><link data-rh="true" rel="alternate" href="https://new.learnhowtoprogram.com/c-and-net/team-week/hosting-a-mysql-database-and-aspnet-core-api-or-web-app-on-azure" hreflang="x-default"><script src="/usersnap-loader.js" defer="defer"></script><link rel="stylesheet" href="/assets/css/styles.c01e3e32.css">
<link rel="preload" href="/assets/js/runtime~main.ae47bbd3.js" as="script">
<link rel="preload" href="/assets/js/main.255020d5.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(e){}return e}()||function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/lhtp-favicon.png" alt="Learn How to Program" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/lhtp-favicon.png" alt="Learn How to Program" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Learn How to Program</b></a><a class="navbar__item navbar__link" href="/courses">Courses</a><a class="navbar__item navbar__link" href="/student-handbook">Handbook</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/c-and-net">C# and .NET</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/c-and-net/getting-started-with-c/welcome-to-c">Getting Started with C#</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/c-and-net/data-types-variables-branching-and-looping/using-a-c-repl">Data Types, Variables, Branching, and Looping</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/c-and-net/basic-console-apps/expectations-and-game-plan-for-building-a-c-console-app">Basic Console Apps</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/c-and-net/tdd-and-debugging/what-we&#x27;ll-learn-in-this-section">TDD and Debugging</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/c-and-net/test-driven-development-with-c/test-driven-development-with-c-objectives">Test-Driven Development With C#</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/c-and-net/basic-web-applications/basic-web-applications-objectives">Basic Web Applications</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/c-and-net/database-basics/database-basics-objectives">Database Basics</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/c-and-net/many-to-many-relationships/many-to-many-objectives">Many-To-Many Relationships</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/c-and-net/authentication-with-identity/authentication-with-identity-objectives">Authentication with Identity</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/c-and-net/building-an-api/building-an-api-objectives">Building an API</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/c-and-net/team-week/team-week-objectives">Team Week</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/c-and-net/team-week/team-week-objectives">WEEKEND</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/c-and-net/team-week/team-week-objectives">Team Week Objectives</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/c-and-net/team-week/git-with-collaborators-setup">Git with Collaborators: Setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/c-and-net/team-week/git-with-collaborators-workflow">Git with Collaborators: Workflow</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/c-and-net/team-week/rewriting-history-with-git">Rewriting History with Git</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/c-and-net/team-week/learning-more-about-git">Learning More About Git</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/c-and-net/team-week/practicing-the-git-workflow">Practicing the Git Workflow</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/c-and-net/team-week/pull-requests-with-branches">Pull Requests with Branches</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/c-and-net/team-week/pull-requests-with-forks">Pull Requests with Forks</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/c-and-net/team-week/hosting-a-mysql-database-and-aspnet-core-api-or-web-app-on-azure">Hosting a MySQL database and ASP.NET Core API or Web App on Azure</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/c-and-net/team-week/team-week-presentations-and-independent-project">THURSDAY</a></div></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Alpn" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_xK9p"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Team Week</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">WEEKEND</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><a href="https://github.com/epicodus-curriculum/c-sharp-full-stack/blob/main/6_hosting_mvc_sql_database_azure.md" target="_blank" rel="noopener noreferrer" class="breadcrumbs__link" itemprop="item"><span itemprop="name">Hosting a MySQL database and ASP.NET Core API or Web App on Azure</span></a><meta itemprop="position" content="3"></li></ul></nav><div class="theme-doc-markdown markdown"><header><h1>Hosting a MySQL database and ASP.NET Core API or Web App on Azure</h1></header><p>In this lesson we&#x27;ll use Azure to host a MySQL database and an MVC web application that uses that database. </p><p><strong>Objectives:</strong></p><ul><li>Use the Azure portal to create services for hosting</li><li>Deploy a MySQL database </li><li>Deploy an ASP.NET Core 6 web application</li><li>Connect the web app to the database</li><li>Add debugging tools</li></ul><p>Hosting a project makes it much easier to share, and it is common to see Azure listed on job applications as a desired skill. By the end we will be able to visit our hosted To Do List website and add items to our MySQL database all hosted on the Microsoft cloud. </p><p>Please note that Azure offers a SQL database server service, meaning we don&#x27;t need to use MySQL if we don&#x27;t want to. A SQL database can be created and hosted through the Azure portal. In this lesson we&#x27;ll create or connect a MySQL server to our Azure service. </p><p>Azure can host your entire application stack from web applications and APIs to databases and other storage services. The steps for hosting an API are going to be identical to hosting an MVC web app. Azure has a free tier for hosting that should be more than enough memory and data for your time at Epicodus. </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="a-note-on-microsoft-learn">A Note on Microsoft Learn<a href="#a-note-on-microsoft-learn" class="hash-link" aria-label="Direct link to A Note on Microsoft Learn" title="Direct link to A Note on Microsoft Learn">​</a></h2><hr><p><a href="https://learn.microsoft.com/en-us/training/browse/" target="_blank" rel="noopener noreferrer">Microsoft Learn</a> is a platform that offers free lessons in a range of skill sets from beginner to advanced for many Microsoft products, such as Azure. They also offer tutorials on C# concepts, .NET, and Entity Framework Core in case you want to explore those topics more. One major benefit is it gives users access to a &quot;sandbox&quot; to practice Azure tools in, without a subscription and without a credit card! You only need an Azure account set up, after which you can test out things like hosting a web app on Azure. </p><p>The limitations are that you can only use the sandbox for a a max of three hours per day and a max of ten sandboxes per day. It also tends to be tied to the specific lesson you&#x27;re working on so make sure you set aside enough time before starting a lesson. It will also reset when it&#x27;s done being used, so any hosted projects or any resources will be gone when the sandbox expires. It is purely for learning purposes. <a href="https://learn.microsoft.com/en-us/training/modules/host-a-web-app-with-azure-app-service/" target="_blank" rel="noopener noreferrer">Here is a link to &quot;Hosting a Web App with Azure&quot;</a>, which runs through a basic setup of hosting a simple ASP.NET Core web app. </p><p>If you have different hosting goals than what this lesson addresses, I highly recommend browsing Microsoft Learn lessons and narrowing your results by using the search filter options (there are many!). The lessons are concise and straightforward, and can be a great introduction to what&#x27;s possible with various Azure tools.</p><p>Visit <a href="https://learn.microsoft.com/en-us/training/browse/" target="_blank" rel="noopener noreferrer">this link</a> to access Microsoft Learn.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="create-an-azure-account">Create an Azure account<a href="#create-an-azure-account" class="hash-link" aria-label="Direct link to Create an Azure account" title="Direct link to Create an Azure account">​</a></h2><hr><p>Follow <a href="https://azure.microsoft.com/en-us/free/" target="_blank" rel="noopener noreferrer">this link</a> to set up a free Azure account. If you already have a Microsoft account you will sign in with that information, if you don&#x27;t have one you&#x27;ll need to set up a Microsoft account first.</p><p><strong>Unfortunately, setting up an Azure account usually requires a bank card to verify your identity, even if you are trying to create a free Azure account.</strong> Eligibility for a free Azure account varies and is typically awarded to all new users and only lasts 12 months. And even with with a “free tier” account, you may be charged for exceeding certain limits. Hosting one MVC app and MySQL database for a month, assuming limited use, will be possible without paying any fees. However, before you continue with your free account, we suggest doing the following:</p><ul><li><a href="https://learn.microsoft.com/en-us/azure/cost-management-billing/manage/avoid-charges-free-account" target="_blank" rel="noopener noreferrer">Read this article on avoiding fees with a free account</a> as a reference before you subscribe to any Azure services. </li><li>See what services are free by following the instructions <a href="https://learn.microsoft.com/en-us/azure/cost-management-billing/manage/avoid-charges-free-account#you-reached-the-end-of-your-free-12-months" target="_blank" rel="noopener noreferrer">on this page</a>.</li></ul><p><strong>If you aren&#x27;t eligible for a free account the other option is “pay as you go pricing”.</strong> However be aware that it can be very easy to rack up charges with this kind of subscription. To learn about subscription limits, <a href="https://learn.microsoft.com/en-us/azure/azure-resource-manager/management/azure-subscription-service-limits" target="_blank" rel="noopener noreferrer">visit this documentation</a>. Since the pricing model for Azure can be confusing, we recommend that you do not hesitate to submit <strong>a request for a refund</strong> if you are charged more than expected or more than you can afford as a new user with the pay as you go subscription; to learn how to submit a request, follow the steps <a href="https://learn.microsoft.com/en-us/azure/azure-portal/supportability/how-to-create-azure-support-request" target="_blank" rel="noopener noreferrer">in this article</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="navigating-azure">Navigating Azure<a href="#navigating-azure" class="hash-link" aria-label="Direct link to Navigating Azure" title="Direct link to Navigating Azure">​</a></h2><hr><p>Azure is an enormous site with many services and so can be difficult to navigate. If we know what we&#x27;re looking for, the best way to get around is to use the search bar at the top of any page. In this lesson when we refer to using &#x27;the search bar&#x27; this is what we mean. </p><p><img loading="lazy" src="https://learnhowtoprogram.s3.us-west-2.amazonaws.com/c%23/Azure+Hosting+MVC+&amp;+SQL/search-bar.png" alt="Azure search bar" class="img_ev3q"></p><p>It&#x27;s also a great idea to read the docs on any Azure service you are going to use. They are concise and well written, and that is where all the information in this lesson came from. It will teach you how to choose the right services and tools as well as avoid common pitfalls.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="vocab">Vocab<a href="#vocab" class="hash-link" aria-label="Direct link to Vocab" title="Direct link to Vocab">​</a></h2><hr><p><strong>Subscription</strong>: A logical container for your resources. Each Azure resource is associated with only one subscription. Creating a subscription is the first step in adopting Azure. We&#x27;ll select the same subscription for all the services we add. This is the <strong>free tier</strong> or <strong>pay as you go</strong> subscription we set up with our Azure account. </p><p><strong>Resource Group</strong>: A container that holds related resources for an Azure solution. The resource group includes those resources that you want to manage as a group. For example, our resource group will contain both our App Service (todo-list-app) and Flexible Database Server (todo-list-mysql).</p><p>Basically a resource group acts the same way a folder on your desktop does, anything can go in it and it is for organizational purposes. It is required to choose a resource group when we create services, so we can&#x27;t create services without first creating a resource group. </p><p><strong>Flexible Server</strong>: &quot;Azure Database for MySQL - Flexible Server&quot; is a fully managed production-ready database service designed for more granular control and flexibility over database management functions and configuration settings. Here&#x27;s <a href="https://learn.microsoft.com/en-us/azure/mysql/flexible-server/overview" target="_blank" rel="noopener noreferrer">a link to the Overview Page</a>.</p><p><strong>App Service</strong>: &quot;Azure App Service&quot; is a fully managed platform for hosting web applications and APIs in Azure.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="vs-code-extensions">VS Code extensions<a href="#vs-code-extensions" class="hash-link" aria-label="Direct link to VS Code extensions" title="Direct link to VS Code extensions">​</a></h2><hr><p>Download these two VS Code extensions: </p><ul><li><a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode.azure-account" target="_blank" rel="noopener noreferrer">Azure Account</a></li><li><a href="https://marketplace.visualstudio.com/items?itemName=ms-azuretools.vscode-azureappservice" target="_blank" rel="noopener noreferrer">Azure App Service</a></li></ul><p>You may be asked to sign into your Azure account via the &quot;Azure Account&quot; extension. If not, you&#x27;ll do so later. </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="create-a-resource-group">Create a Resource Group<a href="#create-a-resource-group" class="hash-link" aria-label="Direct link to Create a Resource Group" title="Direct link to Create a Resource Group">​</a></h2><hr><p>Within <a href="https://portal.azure.com/#home" target="_blank" rel="noopener noreferrer">the Azure portal</a>, use the search bar and find the <em>resource groups</em> option. Once there we&#x27;ll use the <em>Create</em> button to create a new group. </p><p><img loading="lazy" src="https://learnhowtoprogram.s3.us-west-2.amazonaws.com/c%23/Azure+Hosting+MVC+&amp;+SQL/create-resource-group.png" alt="Create resource group" class="img_ev3q"></p><p>In the form, we&#x27;ll see a field for subscription and region. We&#x27;ll leave the subscription field as is; this is the subscription that we set up when we created our account. For the region field, you can leave the default as is as well, or select another preferred location for this resource group. The region is the location of the Azure server that will hold our resource group.</p><p>We&#x27;ll be naming a lot of things in this tutorial so we will be very intentional with our names. We&#x27;ll generally follow the pattern &#x27;project-name-type-of-resource&#x27;, so we&#x27;ll call our group &#x27;todo-list-rg&#x27;, short for &#x27;todo-list-resourcegroup&#x27;. The naming convention you use is up to you, but I highly recommend coming up with a pattern of your own that makes sense before you name anything.</p><p>After giving our resource group a name, we can optionally select to add tags, but we&#x27;ll skip this. Instead, click the “Review + create” button to create the group. Azure will do a quick validation on it and if all is successful we can now add things to our group.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="create-an-azure-database-for-mysql---flexible-server">Create an Azure Database for MySQL - Flexible Server<a href="#create-an-azure-database-for-mysql---flexible-server" class="hash-link" aria-label="Direct link to Create an Azure Database for MySQL - Flexible Server" title="Direct link to Create an Azure Database for MySQL - Flexible Server">​</a></h2><hr><p>Next, we&#x27;ll host our MySQL database via an Azure service called &quot;Flexible Server&quot;, one option from &quot;Azure Database for MySQL Servers&quot;.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="create-a-flexible-server">Create a Flexible Server<a href="#create-a-flexible-server" class="hash-link" aria-label="Direct link to Create a Flexible Server" title="Direct link to Create a Flexible Server">​</a></h3><p>Within the Azure portal use the search bar to find <em>Azure Database for MySQL servers</em>. Select <em>Create</em> to create a new Azure database server for MySQL. From the available options choose <em>Flexible Server</em>. This may take you directly to a create page for a new Flexible Server or you may need to click on another “create” button to get there.</p><p><img loading="lazy" src="https://learnhowtoprogram.s3.us-west-2.amazonaws.com/c%23/Azure+Hosting+MVC+&amp;+SQL/flexible-server-review.png" alt="Flexible server create page" class="img_ev3q"></p><p>Here&#x27;s what we&#x27;ll put into the form: </p><p><strong>Subscription</strong> </p><ul><li>Pick the subscription to use, this will be the one we just set up when we created
our account.</li></ul><p><strong>Resource Group</strong></p><ul><li>We&#x27;ll use the &#x27;todo-list-rg&#x27; resource group.</li></ul><p><strong>Server Name</strong></p><ul><li>We&#x27;ll name our server &#x27;todo-list-mysql&#x27; since it will be hosting our MySQL database.</li></ul><p><strong>Region</strong></p><ul><li>Leave this as the default.</li></ul><p><strong>MySQL version</strong> </p><ul><li>You can find your MySQL version by opening MySQL Workbench and finding the <em>About MySQL</em> option. </li></ul><p>We won&#x27;t update the other default form values. For example, Azure should automatically configure our <code>Compute + Storage</code> options, but for reference they should be the same as in the picture above. They can also be customized by clicking <em>Configure Server</em> next to <em>Compute + Storage</em> after we create our server: </p><p><strong>Compute Sku</strong></p><ul><li>Burnstable, B1ms</li></ul><p><strong>Storage</strong> </p><ul><li>free up to 32 GB</li></ul><p><strong>Geo-redundancy</strong> </p><ul><li>Disabled. </li></ul><p>When you get to  the bottom of the page, you&#x27;ll create a username and password. In setting up MySQL we used &#x27;root&#x27; and &#x27;epicodus&#x27; as the username and password for our database server. We won&#x27;t be able to use those values here, because Azure is a bit stricter; for example, Azure wont let us choose the following usernames: azure_superuser, admin, administrator, root, guest, or public.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="network">Network<a href="#network" class="hash-link" aria-label="Direct link to Network" title="Direct link to Network">​</a></h3><p>On the <em>Network</em> tab we&#x27;ll choose our method of connecting to the database server.</p><p><img loading="lazy" src="https://learnhowtoprogram.s3.us-west-2.amazonaws.com/c%23/Azure+Hosting+MVC+&amp;+SQL/flexible-server-networking.png" alt="Flexible server networking page." class="img_ev3q"></p><p>Azure Flexible Server provides two ways to connect to the database, <strong>Public Access</strong> (allowed IP addresses) and <strong>Private Access</strong> (VNet Integration). We&#x27;ll use Public Access, and use the <em>add current client IP address</em> option so the current computer you are working on is allowed through the Flexible Server&#x27;s firewall. Why do this? This will enable us set up a database connection in MySQL Workbench so that we can use it to view the data in our Azure Flexible Server database; we&#x27;ll do this soon! Take note of a few important details: </p><ul><li>If you change computers and want to access set up a database connection from a new computer, you&#x27;ll have to add that computer&#x27;s IP address to the list of allowed computers within the firewall rules. To learn how to manage the firewall and allowed IP addresses, follow the steps <a href="https://learn.microsoft.com/en-us/azure/postgresql/flexible-server/how-to-manage-firewall-portal" target="_blank" rel="noopener noreferrer">in this article</a>. The article mentions a Flexible Server for a PostgreSQL database, but the steps are the same for MySQL databases. </li><li>We could select the option to allow IP addressing from 0.0.0.0 to 255.255.255.255; doing so would allow any computer through the database&#x27;s firewall. This could be used during initial development, but is not safe for production. </li><li>If you want to read more about Network options follow this link: <a href="https://learn.microsoft.com/en-us/azure/mysql/flexible-server/concepts-networking" target="_blank" rel="noopener noreferrer">Connectivity and Networking With Flexible Server</a>.</li></ul><p>Let&#x27;s continue filling out the Flexible Server database form. We&#x27;ll see other configurations for security and tags, but we&#x27;ll skip those for now. Go ahead and click <em>Review + create</em>, review the final configurations, and then hit the <em>Create</em> button at the bottom of the page. We should see a message that “deployment is in progress”. When deployment is finished, Azure will be hosting our server! It may however take a few minutes to complete deployment. </p><p>You can click away from the deployment page now. If you need to find your database again, go to your &#x27;todo-list-rg&#x27; resource group.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="connect-the-azure-flexible-server-to-our-mysql-workbench">Connect the Azure Flexible Server to our MySQL Workbench<a href="#connect-the-azure-flexible-server-to-our-mysql-workbench" class="hash-link" aria-label="Direct link to Connect the Azure Flexible Server to our MySQL Workbench" title="Direct link to Connect the Azure Flexible Server to our MySQL Workbench">​</a></h2><hr><p>Next, we&#x27;ll connect our the Azure Flexible Server to our local MySQL Workbench application so that we can view our database.</p><p>In the Azure portal find the server you just created. We can do this by searching for the name of our server in the search bar, &#x27;todo-list-mysql&#x27;. Note that our database may not be searchable by name until after it has been deployed. </p><p>After we navigate to the todo-list-mysql server page find the <strong>Server name</strong> and <strong>Server admin login name</strong> and have those handy to paste into MySQL Workbench. </p><p>Launch MySQL Workbench. On the main page find the <strong>+</strong> icon to create a new MySQL connection.</p><p>Within the “Setup New Connection” form, we&#x27;ll first give it a <strong>Connection Name</strong> following our pattern, &#x27;todo-list-mysql&#x27;. After that, set <strong>Hostname</strong> to our Azure “Server name”, and set <strong>Username</strong> to our Azure “Server admin login name”. </p><p>The port should always be <code>3306</code> when using Azure. The connection method doesn&#x27;t need to be changed here, standard is fine.</p><p>We can optionally add the password for our Azure Flexible Server now by clicking the button that says <em>Store in Keychain</em> or <em>Store in Vault</em>. If you do not add it now, you&#x27;ll be prompted to enter your password when you test the connection.</p><p><img loading="lazy" src="https://learnhowtoprogram.s3.us-west-2.amazonaws.com/c%23/Azure+Hosting+MVC+&amp;+SQL/mysql-setup.png" alt="Setup for MySQL Workbench connection to Azure Flexible Server." class="img_ev3q"></p><p>Then we need to test our connection before creating it by clicking the &#x27;Test Connection&#x27; button. Testing the connection may take a while, so be patient. If all is successful we&#x27;ll see a success message and can create our connection. We&#x27;ll then be taken to our new todo-list-mysql database navigator within MySQL Workbench! It&#x27;s from here that we can view or adjust our databases, tables, and more. However, we&#x27;ll continue to primarily use EF Core migrations to do this.</p><p>If you get a failure message, it&#x27;s likely that your IP address is not added to the list of approved IP addresses in our Azure Flexible Server&#x27;s firewall. To manage allowed IP addresses, follow the steps <a href="https://learn.microsoft.com/en-us/azure/postgresql/flexible-server/how-to-manage-firewall-portal" target="_blank" rel="noopener noreferrer">in this article</a>. The article mentions a Flexible Server for a PostgreSQL database, but the steps are the same for MySQL databases.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="create-an-empty-database">Create an Empty Database<a href="#create-an-empty-database" class="hash-link" aria-label="Direct link to Create an Empty Database" title="Direct link to Create an Empty Database">​</a></h3><p>The last step is to create an empty database within MySQL Workbench within the new connection we just set up with our Azure Flexible Server. We&#x27;ll call our database <code>to_do_list</code>, but you can call yours whatever you prefer. We&#x27;re setting up an empty database now so that it is populated within another form that we&#x27;ll fill out later when we connect our web app hosted on Azure to our MySQL database, also hosted on Azure.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="host-an-mvc-web-app">Host an MVC Web App<a href="#host-an-mvc-web-app" class="hash-link" aria-label="Direct link to Host an MVC Web App" title="Direct link to Host an MVC Web App">​</a></h2><hr><p>Next, we&#x27;ll host our ASP.NET Core MVC web app via Azure App Services.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="create-an-app-service">Create an App Service<a href="#create-an-app-service" class="hash-link" aria-label="Direct link to Create an App Service" title="Direct link to Create an App Service">​</a></h3><p>In the search bar find <em>App Services</em>. Then on that page find and click the <em>Create</em> button. Fill out the form with the following values: </p><p><strong>Resource Group</strong> </p><ul><li>Select the resource group we made, &#x27;todo-list-rg&#x27;, or one you created.</li></ul><p><strong>Name</strong></p><ul><li>Give your web app a name. This name will be in the domain of your hosted site. In this lesson we&#x27;ll assume our name is &#x27;todo-list-app&#x27;. With that name, we&#x27;ll find our web app hosted at <code>todo-list-app.azurewebsites.net</code>. Note that you may not get your first choice of app name since there cannot be duplicates. </li></ul><p><strong>Publish</strong></p><ul><li>Code</li></ul><p><strong>Runtime stack</strong></p><ul><li>.NET 6.0 (LTS)</li></ul><p><strong>Operating System</strong> </p><ul><li>Your operating system</li></ul><p><strong>Region</strong></p><ul><li>Any region near you. For example, US West 2 is located in Washington state. Take note that you could get a deployment error if you change to another region than the default selection, only because that region does not have enough availability.</li></ul><p><strong>App Service Pricing Plan</strong> </p><ul><li>This should auto populate with your subscription. Take a moment to search for and select the “Free F1” option, if available </li></ul><p>Next, there will be form pages to select settings for deployment, networking, monitoring, and tags. We won&#x27;t be changing the default within each of those pages, but we recommend reading each page to get a sense of the options. </p><p>Finish up by reviewing and creating this app service. Just like with our Flexible Server it may take a few minutes to deploy. If any error messages are displayed, take the time to read everything in the message to learn what&#x27;s going wrong.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="connect-the-web-app-to-mysql-database">Connect the Web App to MySQL Database<a href="#connect-the-web-app-to-mysql-database" class="hash-link" aria-label="Direct link to Connect the Web App to MySQL Database" title="Direct link to Connect the Web App to MySQL Database">​</a></h3><p>Next, we&#x27;ll need to connect our MySQL database to our web app we just hosted on Azure. </p><p>Using the search bar or dashboard find the App Service we just made. Make sure to select the App Service and not the Application Insight option. </p><p>Within the left navigation pane find the <em>Service Connector</em> tab under <em>Settings</em>. Then, select <em>Create</em>. Fill out the options as follows: </p><p><strong>Service Type</strong> </p><ul><li>DB for MySQL flexible server. </li></ul><p><strong>Connection name</strong> </p><ul><li>This is auto created, but we can change it if we want</li></ul><p><strong>Subscription</strong> </p><ul><li>In this example I&#x27;m using &#x27;Azure subscription 1&#x27;. If you see the &quot;Free (F1)&quot; option you should select that. </li></ul><p><strong>MySQL flexible server</strong> </p><ul><li>Here we&#x27;ll pick the flexible server we set up called &#x27;todo-list-mysql&#x27;</li></ul><p><strong>MySQL database</strong> </p><ul><li>Select <code>to_do_list</code>, the empty database that we created earlier via MySQL Workbench. If you forgot to create an empty database, or you don&#x27;t see <code>to_do_list</code> in the list of options, select <code>mysql</code>; we&#x27;ll later change this value within the generated database connection string to point to a different database. </li></ul><p><strong>Client type</strong> </p><ul><li>Select .NET.</li></ul><p>On the next page for “Authentication”, we&#x27;ll need to input our Azure Flexible Database username and password. We&#x27;ll store these values in a connection string that we&#x27;ll use in our MVC app to connect to our Flexible Server. Alternatively, you are welcome to set up an <a href="https://azure.microsoft.com/en-us/products/key-vault/" target="_blank" rel="noopener noreferrer">Azure Key Vault</a>, though we won&#x27;t cover how to do so now.</p><p>For “Networking”, we&#x27;ll leave the default values as is. Finish up by creating the new service connection. The creation process may take a few minutes. Note that we can edit all if not most of the values we input for this service connection later, as needed.</p><p>After the new service connector is created, find it within the Service Connector tab. (You may have to refresh the view.) Expand the service by clicking the <em>arrow</em> next to it. Then, click the <em>hidden value</em> icon to expose the connections string. This is what will go in <code>appsettings.json</code>, so we&#x27;ll copy it now.</p><p>In our code we&#x27;ll create an <code>appsettings.json</code> or modify an existing one. Exactly what your connection string looks like may vary.  It will look something like this: </p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">&quot;Server=(localdb)\\mssqllocaldb;Trusted_Connection=True;MultipleActiveResultSets=true&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Or this:</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">&quot;Server=todo-list-mysql.mysql.database.azure.com;Database=to_do_list;Port=3306;User Id={YOUR-USERNAME};Password={YOUR-PASSWORD};SSL Mode=Required&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Where <code>{YOUR-USERNAME}</code> and <code>{YOUR-PASSWORD}</code> have your actual username and password values that you input into the new Service Connector form earlier. As always, take the necessary steps to protect this information.</p><p>Whatever your connection string looks like, add it to your ASP.NET Core MVC&#x27;s <code>appsettings.json</code> as a new connection string. We&#x27;ll call our connection string <code>&quot;AZURE_SQL_CONNECTION&quot;</code>:</p><div class="filename">appsettings.json</div><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token property" style="color:#36acaa">&quot;ConnectionStrings&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;AZURE_SQL_CONNECTION&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Server=(localdb)\\mssqllocaldb;Trusted_Connection=True;MultipleActiveResultSets=true&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Next navigate to the <code>Program.cs</code> file and find the lines that pass the database connection string to our <code>builder</code> instance. We&#x27;ll change it to match the name Azure asks us to use for the connection string, <code>“AZURE_SQL_CONNECTION”</code>. For this example it looks like this : </p><div class="filename">Program.cs</div><div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token range operator" style="color:#393A34">..</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      builder</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Services</span><span class="token punctuation" style="color:#393A34">.</span><span class="token generic-method function" style="color:#d73a49">AddDbContext</span><span class="token generic-method generic class-name punctuation" style="color:#393A34">&lt;</span><span class="token generic-method generic class-name">ToDoListContext</span><span class="token generic-method generic class-name punctuation" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        dbContextOptions </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> dbContextOptions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                          </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">UseMySql</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            builder</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Configuration</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;ConnectionStrings:AZURE_SQL_CONNECTION&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            ServerVersion</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">AutoDetect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                              builder</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Configuration</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;ConnectionStrings:AZURE_SQL_CONNECTION&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                          </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                      </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token range operator" style="color:#393A34">..</span><span class="token punctuation" style="color:#393A34">.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now we need to run a command to create an update our <code>to_do_list</code> database with the same database connection string we got from Azure. Run the following command in your project folder (<code>ToDoList/</code>), replacing  <code>&lt;your-azure-sql-connection-string&gt;</code> with the Azure connection string:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">dotnet ef database update --connection </span><span class="token string" style="color:#e3116c">&quot;&lt;your-azure-sql-connection-string&gt;&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If no errors occur we&#x27;re ready to deploy our web app!</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="deploy-the-code-to-the-app-service">Deploy the Code to the App Service<a href="#deploy-the-code-to-the-app-service" class="hash-link" aria-label="Direct link to Deploy the Code to the App Service" title="Direct link to Deploy the Code to the App Service">​</a></h2><hr><p>Make sure you&#x27;ve installed the two VS Code extensions for Azure before moving on to this next step: <a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode.azure-account" target="_blank" rel="noopener noreferrer">Azure Account</a> and <a href="https://marketplace.visualstudio.com/items?itemName=ms-azuretools.vscode-azureappservice" target="_blank" rel="noopener noreferrer">Azure App Service.</a> In the project directory <code>TodoList/</code>, we&#x27;ll run the following command: </p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">dotnet publish -c Release</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Then find the publish folder under <em>bin/Release/net6.0/publish</em>. Right click the <em>publish</em> folder and select the <em>Deploy to Web App…</em> option.</p><p>At some point, we will be asked to sign in to our Azure account. Then, it will ask us what subscription we want to use, and we&#x27;ll choose the &#x27;Azure Subscription 1&#x27; or &#x27;Free (F1)&#x27;. Finally, it will ask what app service to use, and you&#x27;ll select the name of your app hosted on Azure; in this lesson we used &#x27;todo-list-app&#x27;, but yours will be different since duplicate names are not allowed.  </p><p>This will deploy our code to the app service we created. After that has finished we should be given an option to browse our web app! The URL of our app is always the name of our web app + .azurewebsites.net. Using the example in this lesson, we&#x27;ll find our app at <code>todo-list-app.azurewebsites.net</code>. At this point we should be able to interact with our database and web app without running any local servers. </p><p>If you ever need to redeploy your app to reflect new changes in your source code, simply follow the same steps we worked through in this section. </p><p>Once signed into Azure Account via VS Code, you won&#x27;t have to sign in again. If you want to sign in/out of your Azure Account or do other actions, do so using the VS Code command palette. You can find all Azure Account commands by typing &quot;Azure&quot; in to the VS Code command palette. </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="configure-logs">Configure Logs<a href="#configure-logs" class="hash-link" aria-label="Direct link to Configure Logs" title="Direct link to Configure Logs">​</a></h2><hr><p>For debugging purposes we should configure the app service to log output to our VS Code terminal. We can do this by finding the Azure icon on the left vertical toolbar of VS Code. In that pane we&#x27;ll see our subscription, and if we expand that we&#x27;ll see all the services associated with it. Under <em>App Services</em> we can find our &#x27;todo-list-app&#x27; (the name of your app will be different). Right click the name of your app and click the <em>Start Streaming Logs</em>. You should see something like this in the output terminal. </p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Connecting to log stream</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2022</span><span class="token plain">-11-30T00:50:11  Welcome, you are now connected to log-streaming service. The default </span><span class="token function" style="color:#d73a49">timeout</span><span class="token plain"> is </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> hours. Change the </span><span class="token function" style="color:#d73a49">timeout</span><span class="token plain"> with the App Setting SCM_LOGSTREAM_TIMEOUT </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">in seconds</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2022</span><span class="token plain">-11-30T00:51:11  No new trace </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> the past </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> min</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">s</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now we should be able to see more output in our terminal when we need to debug our server. </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="further-exploration">Further Exploration<a href="#further-exploration" class="hash-link" aria-label="Direct link to Further Exploration" title="Direct link to Further Exploration">​</a></h2><hr><p>There&#x27;s so much we can do with Azure. As noted earlier, Azure&#x27;s docs are informative and concise, and all information in this lesson came from the Azure docs. Here&#x27;s a few further exploration topics you may want to get started with first:</p><ul><li><p><strong>General Server Concepts.</strong> Visit <a href="https://learn.microsoft.com/en-us/azure/mysql/flexible-server/concept-servers" target="_blank" rel="noopener noreferrer">this page on Azure server concepts</a> for further reading.</p></li><li><p><strong>Flexible Servers.</strong> To learn more about flexible servers follow this link to the <a href="https://learn.microsoft.com/en-us/azure/mysql/flexible-server/concepts-networking" target="_blank" rel="noopener noreferrer">Networking Overview page.</a></p></li><li><p><strong>Connect an Azure Key Vault to your App.</strong> Azure Key Vault can be used to Securely store and tightly control access to tokens, passwords, certificates, API keys, and other secrets. <a href="https://learn.microsoft.com/en-us/azure/key-vault/general/overview" target="_blank" rel="noopener noreferrer">Follow this guide on connecting an App to the Key Vault</a>.</p></li><li><p><strong>Hosting with a Azure SQL database.</strong> Azure has a <a href="https://learn.microsoft.com/en-us/azure/app-service/tutorial-dotnetcore-sqldb-app" target="_blank" rel="noopener noreferrer">built in SQL database tool</a> that you can use instead of MySQL. </p></li></ul><p>Congratulations on hosting your web app and database! And, happy coding.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/c-and-net/team-week/pull-requests-with-forks"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Pull Requests with Forks</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/c-and-net/team-week/team-week-presentations-and-independent-project"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Team Week Presentations and Independent Project</div></a></nav></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Epicodus, Inc.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.ae47bbd3.js"></script>
<script src="/assets/js/main.255020d5.js"></script>
</body>
</html>